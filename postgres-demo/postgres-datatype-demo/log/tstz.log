sudo docker exec postgres-datatype-demo_client_1 bash -c /sql/tstz.sh

BEGIN
SET
   ?column?    |              now              
---------------+-------------------------------
 Asia/Shanghai | 2020-07-12 22:57:46.322098+08
(1 row)

      timestamptz       |      timestamptz       
------------------------+------------------------
 2020-06-08 04:05:06+08 | 2020-06-08 10:05:06+08
(1 row)

INSERT 0 1
SET
   ?column?    |              now              
---------------+-------------------------------
 Europe/London | 2020-07-12 15:57:46.322098+01
(1 row)

      timestamptz       |      timestamptz       
------------------------+------------------------
 2020-06-08 04:05:06+01 | 2020-06-08 03:05:06+01
(1 row)

INSERT 0 1
SET
   ?column?    |              now              
---------------+-------------------------------
 Asia/Shanghai | 2020-07-12 22:57:46.322098+08
(1 row)

             ts             |              tz               
----------------------------+-------------------------------
 2020-07-12 22:57:46.322098 | 2020-07-12 22:57:46.322098+08
 2020-07-12 15:57:46.322098 | 2020-07-12 22:57:46.322098+08
(2 rows)

SET
   ?column?    |              now              
---------------+-------------------------------
 Europe/London | 2020-07-12 15:57:46.322098+01
(1 row)

             ts             |              tz               
----------------------------+-------------------------------
 2020-07-12 22:57:46.322098 | 2020-07-12 15:57:46.322098+01
 2020-07-12 15:57:46.322098 | 2020-07-12 15:57:46.322098+01
(2 rows)

ROLLBACK
BEGIN
INSERT 0 1
INSERT 0 1
         ts          |           tz           
---------------------+------------------------
 2020-06-08 04:05:06 | 2020-06-08 02:05:06+00
 2020-06-08 04:05:06 | 2020-06-07 20:05:06+00
(2 rows)

ROLLBACK
